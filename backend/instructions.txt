âœ…Step 1
    npm init -y   // node moules install
    npm i express // 
    created app.js =>  requite express 
            const express = require('express');
            const app = express();


            app.get('./',(req,res)=>{
                  res.send("This side tuktukkk app...!!")
                })});

            module.exports = app;
        //written this boiler plate in that file...

    created server.js  => serverrelated flow
        const http = require('http');
        const app = require('./app');
        ...
âœ…Step 2
    npm i dotenv cors => downloading dependencies for taking data from env variables
        and setting cors
    require both of them in app.js file
    Now created .env file for port and require port in server.js
            server.listen(port,()=>{
                console.log(`Server is Listening on ${port}`);
            });
    run server => npm nodemon

âœ…Step 3
    Starting Mongoose part..
    npm i mongoose
    written a boilerplate and created folder Db => ctrstrd file db.js
    in env filr maintioned db url
    then use that in app.js => // const connectToDB = require('./db/db');
                                  connectToDB();

âœ…Step 4
    Create models folder =>  user.model.js file created
        required mongoose and then state the schema for that model { fullname,email,password etc}
    for hashing password install < npm i bcrypt jsonwebtoken >
    writtend some methods like
        1.generateAwthTokens()
        2.comparePassword()
        3.hashPassword()
    After this we created controller for user model =>  controllers -> user.controller.js


âœ…Step 5 
    6:41 PM --- 24/7/2025
    Proper Authantication part starting...    

    creating a router folder => user.route.js 
    now installing all the dependencies like "npm i express-validator"
    creating router for user registration   
    Now created services folder => user.service.js   


âœ…Step 6
    Postman testing http://localhost:4000/users/register
            {
                "fullname":{
                        "firstname":"aditya",
                        "lastname": "binjagermath"
                     },
                 "email":"test@gmail.com",
                 "password":"ase@3456d"
             }
    Postman Test result for above request
        {
            "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2ODgyOGQwNzZmMzhkNDM2M2UyMGUwODQi
                        LCJpYXQiOjE3NTMzODYyNDd9.KEKZoFcUx8oBiz8B86yPEWoh1CiYhj8jeB7itaU7iPU",
            "user": {
                "fullname": {
                    "firstname": "aditya",
                    "lastname": "binjagermath"
                },
                "email": "test@gmail.com",
                "password": "$2b$10$ZfLlx6iVLXoFHE1TnBaMvOUEcyigF6wIcIORBYp0LekSjYTUHnOkC",
                "_id": "68828d076f38d4363e20e084",
                "__v": 0
            }
        }


âœ…Step 7

    I have created a Login route in => user.route.js where i have accepted a email and passwprd and va;idated
    using jwtvalidator and exported it 

    Now i have started write code for controller for login router and extracted email and pass from body
    and checkes with existing data and if found returned a status of 201 along with the jwttoken that generated 
    aslo if any error or unauthorized entry happened returned a response of 401 status code 

    Now all the test results are mentioning below 
    200 OKâœ…
        {
            "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2ODgyOGQwNzZmMzhkNDM2M2UyMGUwODQiLCJpYXQiOjE3NTM2ODM4N
                        Th9.jR9.SaNlCTFlzxQ6mgWZrTotcD-mNyoqHW5ZD4CeB-KnZxA",
            "user": {
                "fullname": {
                    "firstname": "aditya",
                    "lastname": "binjagermath"
                },
                "_id": "68828d076f38d4363e20e084",
                "email": "test@gmail.com",
                "password": "$2b$10$ZfLlx6iVLXoFHE1TnBaMvOUEcyigF6wIcIORBYp0LekSjYTUHnOkC",
                "__v": 0
            }
        }

    401 Unauthoerized âŒ
    {
    "message": "Invalid Email or password"
    }


âœ…Step 8

    started creating route for user profile.=>  user.routes.js

    First create a getuserProfile Controller and start the status checking 
    for thst create a middleware => auth.middleware.js
    
    Data which is checked by middleware is either getting from cookies or header
    so we are checking for both through POST man 

    for checking cookie at middleware we need a package to intract with cookie i.e cookie-parser 
    <npm i cookie-parser>

    ðŸª§Sending data from header
    ðŸª§Sending data from Cookie


âœ…Step 9
    Now im going to create a LogOut route => 
        for this we need a new model where we store all the black Listed token on log out a user
        there is a schema for blacklisted jwt tokens having TTL of 24 hr



âœ…Step 10
    Now going to execute all the above routers, Modles and controllers for Captain 
    created following files
        1. Captain.model.js
        2. Captain.controller.js
        3. Captain.route.js

    now require all the above in app.js for using them

    Performed all the userModel schemea part added new scheme
    like vehicleType,color,plate,capacity and location along with socket id 

    after creating a Refister route and writting ip methodes for user model 
    like hasg password, crate jwttokens and compare password etc.

    tested the thing in postman/test results are mentioned below

    200 OKâœ…

    (request)

    {
        "fullname": {
            "firstname": "Bhishan",
            "lastname": "Kumar"
        },
        "email": "test_captain@gmail.com",
        "password": "bkumar@07",
        "vehicle": {
            "color": "red",
            "plate": "MH 13 XY 6969",
            "capacity": 3,
            "vehicleType": "auto"
        }
    }

    (response)

    {
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2ODg3Y2NmMDIyOTA3NWY0NmFjODViZDMiLCJpYXQiOjE3NTM3MzA
             yODgsImV4cCI6MTc1MzgxNjY4OH0.oSwFTw4RO5LiykdzWETGoupvov74Xb7tKKc68EY3sXE",
        "captain": {
            "fullname": {
                "firstname": "Bhishan",
                "lastname": "Kumar"
            },
            "email": "test_captain@gmail.com",
            "password": "$2b$10$DND5z0s0X/SsHTR/6z6aiej6z.jOp5XV1cwSX/vCfVj5aLkYSMWZ2",
            "status": "inactive",
            "vehicle": {
                "color": "red",
                "plate": "MH 13 XY 6969",
                "capacity": 3,
                "vehicleType": "auto"
            },
            "_id": "6887ccf0229075f46ac85bd3",
            "__v": 0
        }
    }


âœ…Step 11 
    Now im going add the two more routes for captain lik 
        1.Login
        2.LogOut 
        3.Profile
    After this i have maded the middleware for captaion authentication
    I have completed this all part for the routes and Middleware 
    now im going to test all of this one by one in postman.. the results are mentioned below

    200 OKâœ…
    (Login => request)
        {
            "email": "test_captain@gmail.com",
            "password": "bkumar@07"
        }


    200 OKâœ…
    (Profile => request)
    {
        "captain": {
            "fullname": {
                "firstname": "Shivkumar",
                "lastname": "Sharma"
            },
            "vehicle": {
                "color": "Blue",
                "plate": "MH 13 XY 6969",
                "capacity": 3,
                "vehicleType": "auto"
            },
            "_id": "6887e33d8229f88655677b20",
            "email": "shivkumarsharma12@gmail.com",
            "status": "inactive",
            "__v": 0
        }
    }

    200 OKâœ…
    (Logout => request)
    {
        "message": "Logout Successfully"
    }

Monday 8/12/2025
âœ…Step 11 
    Created new service called: maps.services.js
        here I'm going to add services for routing and featching responses from map api
        also created an postman successful request
    Created Router for map
     ðŸª§1. get Coordinates from using "address" parameter: 
            I'm using address as a parameter to fetch Latitude and Longitude

        api-request
            {
                address: "Santoshi Mata Mandir, Jule Solpaur, Solapur 413004"
            }
        api-response 200 OKâœ…
            {
                "coordinates": {
                    "latitude": 17.638996852083334,
                    "longitude": 75.90406484166665
                }
            }


âœ…Step 12 
    Created new service called: maps.services.js
        here I'm going to add services for routing and featching responses from map api
        also created an postman successful request
    Created Router for map
     ðŸª§2. get Distance and Time from using "origin","destination" parameter: 
           I'm using origin an destination as a parameter to fetch Latitude and Longitude

        api-request
            {
                origin: "Solapur railway station, Solpaur"
                destination: "Pune railway station, Pune"
            }


        api-response 200 OKâœ…
            
            {
                "distanceTime": {
                    "meta": {
                    "code": 200
                    },
                    "routes": {
                        "geodesic": {
                            "distance": {
                            "value": 204476.61232413497,
                            "text": "204.5 km"
                            }
                        },
                    "car": {
                            "duration": {
                            "value": 187.94554166666668,
                            "text": "3 hrs 8 mins"
                            },
                            "distance": {
                            "value": 240132,
                            "text": "240.1 km"
                            }
                        },
                    "foot": {
                            "duration": {
                            "value": 2759.73645,
                            "text": "1 day 22 hrs"
                            },
                            "distance": {
                            "value": 227653,
                            "text": "227.7 km"
                            }
                        }
                    }
                }
            }
                    

âœ…Step 13
    Created new service called: maps.services.js
        here I'm going to add services for routing and featching responses from map api
        also created an postman successful request
    Created Router for map
     ðŸª§3. get Auto Suggestions from using "text" parameter: 
           I'm using adress text as a parameter to fetch Latitude and Longitude and suggestions of locations

        api-request
            {
                text: "solapur
            }

        api-response 200 OKâœ…
            {
                "suggestions": [
                    {
                        "address": "Maharashtra",
                        "name": "Solapur",
                        "eLoc": "2YZYU8",
                        "type": "CITY"
                    },
                    {
                        "address": "Solapur Airport Area, Shankar Nagar, Solapur, Maharashtra, 413224",
                        "name": "Solapur Airport",
                        "eLoc": "7F67T2",
                        "type": "POI"
                    },
                    {
                        "address": "Gop, Puri District, Odisha, 752110",
                        "name": "Solapur",
                        "eLoc": "8733BS",
                        "type": "VILLAGE"
                    },
                    {
                        "address": "Bhavani Peth, Solapur, Maharashtra, 413002",
                        "name": "Solpaur Tours And Travels",
                        "eLoc": "S2W9S3",
                        "type": "POI"
                    },
                    {
                        "address": "Railway Line Road, Siddheshwar Peth, Solapur, Maharashtra, 413001",
                        "name": "Solpaur Lokamangal Nagari Sahakari Patasanstha Maryadit",
                        "eLoc": "WH2GKW",
                        "type": "POI"
                    },
                    {
                        "address": "North Kasba, Budhwar Peth, Solapur, Maharashtra, 413007",
                        "name": "Loni Marathi Vidyalaya Solpaur",
                        "eLoc": "PSB2WX",
                        "type": "POI"
                    },
                    {
                        "address": "10/22, Bhavani Peth, Solpaur, Solapur, Maharashtra, 413002",
                        "name": "Bagadi Agencies",
                        "eLoc": "M59AO8",
                        "type": "POI"
                    }
                ]
            }


                            ======== Break =======

    Added map services and routes for distance calculation and autocomplete suggestions;
    updated environment variables and instructions.


âœ…Step 14:

        creating new route js file for riders, so that all pick up location and avaliabiltity will be show cased by the means of 
        API's and router config. 

        After rider router creation moving ahead for creating it's service and model

        Created ride.model,js having mongoose schema (new) That taking everything required from user and captin like source,
        destination,fare,status, etc.

        Created ride.service created , in which im using previously created model for getDistanceTime() to figure out total fare 
        according to the user specified value for vehicle type,pickup location and destination

        Created ride.controller.js Just validating errors and creating a ride on the basisi of maintioned policies
        in the ride.services page

        require router in the app.js and created/ used "/rides" router for getting created/ started with ride creation 
        
âœ…Step 15:
    Testing "/ride" route in postman..

    request POST 
        {
            "pickup": "pune",
            "destination": "mumbai",
            "vehicleType":"car"
        }    

    response 200 OKâœ…
        {
            "user": "69404ca27a90a7f624c8183f",
            "pickup": "pune",
            "destination": "mumbai",
            "fare": 2279.08364575,
            "status": "pending",
            "duration": 2.1028819166666666, //hrs
            "distance": 148.185, //km
            "_id": "694056f441ae31581292b2db",
            "__v": 0
        }
    
    now i am trying to generate a OTP along with ride creation in the same services 
    one function will b e called along with this successful ride creation
        - Using a strong crypto.randomInt() which is more secure and unpredictible than using simple 
          math.random()
    successfully getting 6 digit otp--



ðŸš€ðŸš€ðŸš€all backend work is almost completed moving ahed with frontend integratoin of above map and rider routes..


âœ…Step 16: 
    Creating Socket.Js filr and importing or requireing it ti the server.js
    In socket.js i havr 2 functions
    1. initializeSocket()
    2. sendMessageToSocketId()


    testing Socket.js socket in postman

        Connected to http://localhost:4000
        00:12:14.029
        Handshake Details
        Request URL: http://localhost:4000/socket.io/?EIO=4&transport=websocket
        Request Method: GET
        Status Code: 101 Switching Protocols
        Request Headers
        sec-websocket-version: 13
        sec-websocket-key: /Z4AqMWjTAJfbYWXGs8zUw==
        connection: Upgrade
        upgrade: websocket
        sec-websocket-extensions: permessage-deflate; client_max_window_bits
        host: localhost:4000
        Response Headers

        Server is Listening on 4000
        Connected to database!
        Socket connected: Vog0lLDJwY8IL2mYAAAB

    Everything working grate.Encountered an issue i.e. trying to get socketId field in database but in schema the typo is occured 
    so that facesd alot proble that my socket.emit("join",{}) this is not working and not updating the socketId on connection
    Fixed that and moving ahead

âœ…Step 17: 
    After integrating socket initializer in frontend, noew working on the message notification feature
    Once a ride is duccessfylly created by user then a notification will be awaked at captain side

    opening ride.controller.js
        for this we need users current location coordinated to awake message to nearby auto/cab captains

    Open maps.services.js
        In this create ans export method getCaptainInTheRadius(lat,lng,radius)=>{}

    getting riders live location and updated every 10 sec, also that lts and lng is saved in databse document
    now implementing the message logic to the ridersperticularly in same radius via function created getCaptainInTheRadius(lat,lng,radius)=>{} 

    